!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).Alpine=factory()}(this,(function(){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function arrayUnique(array){for(var a=array.concat(),i=0;i<a.length;++i)for(var j=i+1;j<a.length;++j)a[i]===a[j]&&a.splice(j--,1);return a}function isTesting(){return navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}function walk(el,callback){if(!1!==callback(el))for(var node=el.firstElementChild;node;)walk(node,callback),node=node.nextElementSibling}function saferEval(expression,dataContext){var additionalHelperVariables=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Function(["$data"].concat(_toConsumableArray(Object.keys(additionalHelperVariables))),"var result; with($data) { result = ".concat(expression," }; return result")).apply(void 0,[dataContext].concat(_toConsumableArray(Object.values(additionalHelperVariables))))}function saferEvalNoReturn(expression,dataContext){var additionalHelperVariables=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Function(["dataContext"].concat(_toConsumableArray(Object.keys(additionalHelperVariables))),"with(dataContext) { ".concat(expression," }")).apply(void 0,[dataContext].concat(_toConsumableArray(Object.values(additionalHelperVariables))))}function isXAttr(attr){var name=replaceAtAndColonWithStandardSyntax(attr.name);return/x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref)/.test(name)}function getXAttrs(el,type){return Array.from(el.attributes).filter(isXAttr).map((function(attr){var name=replaceAtAndColonWithStandardSyntax(attr.name),typeMatch=name.match(/x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref)/),valueMatch=name.match(/:([a-zA-Z\-:]+)/),modifiers=name.match(/\.[^.\]]+(?=[^\]]*$)/g)||[];return{type:typeMatch?typeMatch[1]:null,value:valueMatch?valueMatch[1]:null,modifiers:modifiers.map((function(i){return i.replace(".","")})),expression:attr.value}})).filter((function(i){return!type||i.type===type}))}function replaceAtAndColonWithStandardSyntax(name){return name.startsWith("@")?name.replace("@","x-on:"):name.startsWith(":")?name.replace(":","x-bind:"):name}function transitionIn(el,callback){var forceSkip=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(forceSkip)return callback();var attrs=getXAttrs(el,"transition");if(attrs.length<1)return callback();var enter=(attrs.find((function(i){return"enter"===i.value}))||{expression:""}).expression.split(" ").filter((function(i){return""!==i})),enterStart=(attrs.find((function(i){return"enter-start"===i.value}))||{expression:""}).expression.split(" ").filter((function(i){return""!==i})),enterEnd=(attrs.find((function(i){return"enter-end"===i.value}))||{expression:""}).expression.split(" ").filter((function(i){return""!==i}));transition(el,enter,enterStart,enterEnd,callback,(function(){}))}function transitionOut(el,callback){var forceSkip=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(forceSkip)return callback();var attrs=getXAttrs(el,"transition");if(attrs.length<1)return callback();var leave=(attrs.find((function(i){return"leave"===i.value}))||{expression:""}).expression.split(" ").filter((function(i){return""!==i})),leaveStart=(attrs.find((function(i){return"leave-start"===i.value}))||{expression:""}).expression.split(" ").filter((function(i){return""!==i})),leaveEnd=(attrs.find((function(i){return"leave-end"===i.value}))||{expression:""}).expression.split(" ").filter((function(i){return""!==i}));transition(el,leave,leaveStart,leaveEnd,(function(){}),callback)}function transition(el,classesDuring,classesStart,classesEnd,hook1,hook2){var _el$classList,_el$classList2,originalClasses=el.__x_original_classes||[];(_el$classList=el.classList).add.apply(_el$classList,_toConsumableArray(classesStart)),(_el$classList2=el.classList).add.apply(_el$classList2,_toConsumableArray(classesDuring)),requestAnimationFrame((function(){var duration=1e3*Number(getComputedStyle(el).transitionDuration.replace("s",""));hook1(),requestAnimationFrame((function(){var _el$classList3,_el$classList4;(_el$classList3=el.classList).remove.apply(_el$classList3,_toConsumableArray(classesStart.filter((function(i){return!originalClasses.includes(i)})))),(_el$classList4=el.classList).add.apply(_el$classList4,_toConsumableArray(classesEnd)),setTimeout((function(){var _el$classList5,_el$classList6;(hook2(),el.isConnected)&&((_el$classList5=el.classList).remove.apply(_el$classList5,_toConsumableArray(classesDuring.filter((function(i){return!originalClasses.includes(i)})))),(_el$classList6=el.classList).remove.apply(_el$classList6,_toConsumableArray(classesEnd.filter((function(i){return!originalClasses.includes(i)})))))}),duration)}))}))}function handleForDirective(component,el,expression,initialUpdate){var _parseFor=function(expression){var forIteratorRE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,inMatch=expression.match(/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/);if(!inMatch)return;var res={};res.bunch=inMatch[2].trim();var single=inMatch[1].trim().replace(/^\(|\)$/g,""),iteratorMatch=single.match(forIteratorRE);iteratorMatch?(res.single=single.replace(forIteratorRE,"").trim(),res.iterator1=iteratorMatch[1].trim(),iteratorMatch[2]&&(res.iterator2=iteratorMatch[2].trim())):res.single=single;return res}(expression),single=_parseFor.single,bunch=_parseFor.bunch,iterator1=_parseFor.iterator1,iterator2=_parseFor.iterator2,items=component.evaluateReturnExpression(el,bunch),previousEl=el;items.forEach((function(i,index,group){var currentKey=function(component,el,single,iterator1,iterator2,i,index,group){var keyAttr=getXAttrs(el,"bind").filter((function(attr){return"key"===attr.value}))[0],keyAliases=_defineProperty({},single,i);iterator1&&(keyAliases[iterator1]=index);iterator2&&(keyAliases[iterator2]=group);return keyAttr?component.evaluateReturnExpression(el,keyAttr.expression,(function(){return keyAliases})):index}(component,el,single,iterator1,iterator2,i,index,group),currentEl=previousEl.nextElementSibling;if(currentEl&&void 0!==currentEl.__x_for_key){if(currentEl.__x_for_key!==currentKey)for(var tmpCurrentEl=currentEl;tmpCurrentEl;){if(tmpCurrentEl.__x_for_key===currentKey){el.parentElement.insertBefore(tmpCurrentEl,currentEl),currentEl=tmpCurrentEl;break}tmpCurrentEl=!(!tmpCurrentEl.nextElementSibling||void 0===tmpCurrentEl.nextElementSibling.__x_for_key)&&tmpCurrentEl.nextElementSibling}delete currentEl.__x_for_key,currentEl.__x_for_alias=single,currentEl.__x_for_value=i,component.updateElements(currentEl,(function(){return _defineProperty({},currentEl.__x_for_alias,currentEl.__x_for_value)}))}else{var clone=document.importNode(el.content,!0);el.parentElement.insertBefore(clone,currentEl),transitionIn(currentEl=previousEl.nextElementSibling,(function(){}),initialUpdate),currentEl.__x_for_alias=single,currentEl.__x_for_value=i,component.initializeElements(currentEl,(function(){return _defineProperty({},currentEl.__x_for_alias,currentEl.__x_for_value)}))}currentEl.__x_for_key=currentKey,previousEl=currentEl}));for(var nextElementFromOldLoop=!(!previousEl.nextElementSibling||void 0===previousEl.nextElementSibling.__x_for_key)&&previousEl.nextElementSibling,_loop=function(){var nextElementFromOldLoopImmutable=nextElementFromOldLoop,nextSibling=nextElementFromOldLoop.nextElementSibling;transitionOut(nextElementFromOldLoop,(function(){nextElementFromOldLoopImmutable.remove()})),nextElementFromOldLoop=!(!nextSibling||void 0===nextSibling.__x_for_key)&&nextSibling};nextElementFromOldLoop;)_loop()}function handleAttributeBindingDirective(component,el,attrName,expression,extraVars){var value=component.evaluateReturnExpression(el,expression,extraVars);if("value"===attrName)if(void 0===value&&expression.match(/\./).length&&(value=""),"radio"===el.type)el.checked=el.value==value;else if("checkbox"===el.type)if(Array.isArray(value)){var valueFound=!1;value.forEach((function(val){val==el.value&&(valueFound=!0)})),el.checked=valueFound}else el.checked=!!value;else"SELECT"===el.tagName?function(el,value){var arrayWrappedValue=[].concat(value).map((function(value){return value+""}));Array.from(el.options).forEach((function(option){option.selected=arrayWrappedValue.includes(option.value||option.text)}))}(el,value):el.value=value;else if("class"===attrName)if(Array.isArray(value)){var originalClasses=el.__x_original_classes||[];el.setAttribute("class",arrayUnique(originalClasses.concat(value)).join(" "))}else if("object"===_typeof(value))Object.keys(value).forEach((function(classNames){value[classNames]?classNames.split(" ").forEach((function(className){return el.classList.add(className)})):classNames.split(" ").forEach((function(className){return el.classList.remove(className)}))}));else{var _originalClasses=el.__x_original_classes||[],newClasses=value.split(" ");el.setAttribute("class",arrayUnique(_originalClasses.concat(newClasses)).join(" "))}else["disabled","readonly","required","checked","hidden","selected"].includes(attrName)?value?el.setAttribute(attrName,""):el.removeAttribute(attrName):el.setAttribute(attrName,value)}function handleShowDirective(el,value){var initialUpdate=arguments.length>2&&void 0!==arguments[2]&&arguments[2];value?transitionIn(el,(function(){1===el.style.length&&""!==el.style.display?el.removeAttribute("style"):el.style.removeProperty("display")}),initialUpdate):transitionOut(el,(function(){el.style.display="none"}),initialUpdate)}function handleIfDirective(el,expressionResult,initialUpdate){"template"!==el.nodeName.toLowerCase()&&console.warn("Alpine: [x-if] directive should only be added to <template> tags. See https://github.com/alpinejs/alpine#x-if");var elementHasAlreadyBeenAdded=el.nextElementSibling&&!0===el.nextElementSibling.__x_inserted_me;if(expressionResult&&!elementHasAlreadyBeenAdded){var clone=document.importNode(el.content,!0);el.parentElement.insertBefore(clone,el.nextElementSibling),el.nextElementSibling.__x_inserted_me=!0,transitionIn(el.nextElementSibling,(function(){}),initialUpdate)}else!expressionResult&&elementHasAlreadyBeenAdded&&transitionOut(el.nextElementSibling,(function(){el.nextElementSibling.remove()}),initialUpdate)}function registerListener(component,el,event,modifiers,expression){var extraVars=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(modifiers.includes("away")){var handler=function handler(e){el.contains(e.target)||el.offsetWidth<1&&el.offsetHeight<1||(runListenerHandler(component,expression,e,extraVars),modifiers.includes("once")&&document.removeEventListener(event,handler))};document.addEventListener(event,handler)}else{var listenerTarget=modifiers.includes("window")?window:modifiers.includes("document")?document:el,_handler=function _handler(e){isKeyEvent(event)&&isListeningForASpecificKeyThatHasntBeenPressed(e,modifiers)||(modifiers.includes("prevent")&&e.preventDefault(),modifiers.includes("stop")&&e.stopPropagation(),runListenerHandler(component,expression,e,extraVars),modifiers.includes("once")&&listenerTarget.removeEventListener(event,_handler))};listenerTarget.addEventListener(event,_handler)}}function runListenerHandler(component,expression,e,extraVars){component.evaluateCommandExpression(e.target,expression,(function(){return _objectSpread2({},extraVars(),{$event:e})}))}function isKeyEvent(event){return["keydown","keyup"].includes(event)}function isListeningForASpecificKeyThatHasntBeenPressed(e,modifiers){var keyModifiers=modifiers.filter((function(i){return!["window","document","prevent","stop"].includes(i)}));if(0===keyModifiers.length)return!1;if(1===keyModifiers.length&&keyModifiers[0]===keyToModifier(e.key))return!1;var selectedSystemKeyModifiers=["ctrl","shift","alt","meta","cmd","super"].filter((function(modifier){return keyModifiers.includes(modifier)}));if((keyModifiers=keyModifiers.filter((function(i){return!selectedSystemKeyModifiers.includes(i)})),selectedSystemKeyModifiers.length>0)&&(selectedSystemKeyModifiers.filter((function(modifier){return"cmd"!==modifier&&"super"!==modifier||(modifier="meta"),e["".concat(modifier,"Key")]})).length===selectedSystemKeyModifiers.length&&keyModifiers[0]===keyToModifier(e.key)))return!1;return!0}function keyToModifier(key){switch(key){case"/":return"slash";case" ":case"Spacebar":return"space";default:return key.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}}function generateModelAssignmentFunction(el,modifiers,expression){return"radio"===el.type&&(el.hasAttribute("name")||el.setAttribute("name",expression)),function(event,currentValue){return event instanceof CustomEvent?event.detail:"checkbox"===el.type?Array.isArray(currentValue)?event.target.checked?currentValue.concat([event.target.value]):currentValue.filter((function(i){return i!==event.target.value})):event.target.checked:"select"===el.tagName.toLowerCase()&&el.multiple?modifiers.includes("number")?Array.from(event.target.selectedOptions).map((function(option){return parseFloat(option.value||option.text)})):Array.from(event.target.selectedOptions).map((function(option){return option.value||option.text})):modifiers.includes("number")?parseFloat(event.target.value):modifiers.includes("trim")?event.target.value.trim():event.target.value}}var fn,_start,Component=function(){function Component(el){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Component),this.$el=el;var initReturnedCallback,dataAttr=this.$el.getAttribute("x-data"),dataExpression=""===dataAttr?"{}":dataAttr,initExpression=this.$el.getAttribute("x-init"),createdExpression=this.$el.getAttribute("x-created"),mountedExpression=this.$el.getAttribute("x-mounted"),unobservedData=saferEval(dataExpression,{});this.$data=this.wrapDataInObservable(unobservedData),unobservedData.$el=this.$el,unobservedData.$refs=this.getRefsProxy(),this.nextTickStack=[],unobservedData.$nextTick=function(callback){_this.nextTickStack.push(callback)},initExpression&&(this.pauseReactivity=!0,initReturnedCallback=this.evaluateReturnExpression(this.$el,initExpression),this.pauseReactivity=!1),createdExpression&&(console.warn('AlpineJS Warning: "x-created" is deprecated and will be removed in the next major version. Use "x-init" instead.'),this.pauseReactivity=!0,saferEvalNoReturn(this.$el.getAttribute("x-created"),this.$data),this.pauseReactivity=!1),this.initializeElements(this.$el),this.listenForNewElementsToInitialize(),"function"==typeof initReturnedCallback&&initReturnedCallback.call(this.$data),mountedExpression&&(console.warn('AlpineJS Warning: "x-mounted" is deprecated and will be removed in the next major version. Use "x-init" (with a callback return) for the same behavior.'),saferEvalNoReturn(mountedExpression,this.$data))}var Constructor,protoProps,staticProps;return Constructor=Component,(protoProps=[{key:"wrapDataInObservable",value:function(data){var self=this,proxyHandler={set:function(obj,property,value){var func,wait,timeout,setWasSuccessful=value.$isAlpineProxy?Reflect.set(obj,property,value.$originalTarget):Reflect.set(obj,property,value);return self.pauseReactivity?setWasSuccessful:((func=function(){for(self.updateElements(self.$el);self.nextTickStack.length>0;)self.nextTickStack.shift()()},wait=0,function(){var context=this,args=arguments,later=function(){timeout=null,func.apply(context,args)};clearTimeout(timeout),timeout=setTimeout(later,wait)})(),setWasSuccessful)},get:function(target,key){return"$isAlpineProxy"===key||("$originalTarget"===key?target:target[key]&&target[key].$isRefsProxy?target[key]:target[key]&&target[key]instanceof Node?target[key]:"object"===_typeof(target[key])&&null!==target[key]?new Proxy(target[key],proxyHandler):target[key])}};return new Proxy(data,proxyHandler)}},{key:"walkAndSkipNestedComponents",value:function(el,callback){var _this2=this,initializeComponentCallback=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};walk(el,(function(el){return el.hasAttribute("x-data")&&!el.isSameNode(_this2.$el)?(el.__x||initializeComponentCallback(el),!1):callback(el)}))}},{key:"initializeElements",value:function(rootEl){var _this3=this,extraVars=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};for(this.walkAndSkipNestedComponents(rootEl,(function(el){if(void 0!==el.__x_for_key)return!1;_this3.initializeElement(el,extraVars)}),(function(el){el.__x=new Component(el)}));this.nextTickStack.length>0;)this.nextTickStack.shift()()}},{key:"initializeElement",value:function(el,extraVars){el.hasAttribute("class")&&getXAttrs(el).length>0&&(el.__x_original_classes=el.getAttribute("class").split(" ")),this.registerListeners(el,extraVars),this.resolveBoundAttributes(el,!0,extraVars)}},{key:"updateElements",value:function(rootEl){var _this4=this,extraVars=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.walkAndSkipNestedComponents(rootEl,(function(el){if(void 0!==el.__x_for_key&&!el.isSameNode(_this4.$el))return!1;_this4.updateElement(el,extraVars)}),(function(el){el.__x=new Component(el)}))}},{key:"updateElement",value:function(el,extraVars){this.resolveBoundAttributes(el,!1,extraVars)}},{key:"registerListeners",value:function(el,extraVars){var _this5=this;getXAttrs(el).forEach((function(_ref){var type=_ref.type,value=_ref.value,modifiers=_ref.modifiers,expression=_ref.expression;switch(type){case"on":registerListener(_this5,el,value,modifiers,expression,extraVars);break;case"model":!function(component,el,modifiers,expression,extraVars){var event="select"===el.tagName.toLowerCase()||["checkbox","radio"].includes(el.type)||modifiers.includes("lazy")?"change":"input",listenerExpression="".concat(expression," = rightSideOfExpression($event, ").concat(expression,")");registerListener(component,el,event,modifiers,listenerExpression,(function(){return _objectSpread2({},extraVars(),{rightSideOfExpression:generateModelAssignmentFunction(el,modifiers,expression)})}))}(_this5,el,modifiers,expression,extraVars)}}))}},{key:"resolveBoundAttributes",value:function(el){var _this6=this,initialUpdate=arguments.length>1&&void 0!==arguments[1]&&arguments[1],extraVars=arguments.length>2?arguments[2]:void 0;getXAttrs(el).forEach((function(_ref2){var type=_ref2.type,value=_ref2.value,expression=(_ref2.modifiers,_ref2.expression);switch(type){case"model":handleAttributeBindingDirective(_this6,el,"value",expression,extraVars);break;case"bind":if("template"===el.tagName.toLowerCase()&&"key"===value)return;handleAttributeBindingDirective(_this6,el,value,expression,extraVars);break;case"text":void 0===(output=_this6.evaluateReturnExpression(el,expression,extraVars))&&expression.match(/\./).length&&(output=""),el.innerText=output;break;case"html":el.innerHTML=_this6.evaluateReturnExpression(el,expression,extraVars);break;case"show":var output=_this6.evaluateReturnExpression(el,expression,extraVars);handleShowDirective(el,output,initialUpdate);break;case"if":output=_this6.evaluateReturnExpression(el,expression,extraVars),handleIfDirective(el,output,initialUpdate);break;case"for":handleForDirective(_this6,el,expression,initialUpdate);break;case"cloak":el.removeAttribute("x-cloak")}}))}},{key:"evaluateReturnExpression",value:function(el,expression){var extraVars=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return saferEval(expression,this.$data,_objectSpread2({},extraVars(),{$dispatch:this.getDispatchFunction(el)}))}},{key:"evaluateCommandExpression",value:function(el,expression){var extraVars=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};saferEvalNoReturn(expression,this.$data,_objectSpread2({},extraVars(),{$dispatch:this.getDispatchFunction(el)}))}},{key:"getDispatchFunction",value:function(el){return function(event){var detail=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};el.dispatchEvent(new CustomEvent(event,{detail:detail,bubbles:!0}))}}},{key:"listenForNewElementsToInitialize",value:function(){var _this7=this,targetNode=this.$el;new MutationObserver((function(mutations){for(var i=0;i<mutations.length;i++){var closestParentComponent=mutations[i].target.closest("[x-data]");if(!closestParentComponent||!closestParentComponent.isSameNode(_this7.$el))return;"attributes"===mutations[i].type&&"x-data"===mutations[i].attributeName&&function(){var rawData=saferEval(mutations[i].target.getAttribute("x-data"),{});Object.keys(rawData).forEach((function(key){_this7.$data[key]!==rawData[key]&&(_this7.$data[key]=rawData[key])}))}(),mutations[i].addedNodes.length>0&&mutations[i].addedNodes.forEach((function(node){1===node.nodeType&&(node.matches("[x-data]")?node.__x=new Component(node):_this7.initializeElements(node))}))}})).observe(targetNode,{childList:!0,attributes:!0,subtree:!0})}},{key:"getRefsProxy",value:function(){var self=this;return new Proxy({},{get:function(object,property){return"$isRefsProxy"===property||(self.walkAndSkipNestedComponents(self.$el,(function(el){el.hasAttribute("x-ref")&&el.getAttribute("x-ref")===property&&(ref=el)})),ref);var ref}})}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Component}(),Alpine={start:(fn=regeneratorRuntime.mark((function _callee(){var _this=this;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(isTesting()){_context.next=3;break}return _context.next=3,new Promise((function(resolve){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",resolve):resolve()}));case 3:this.discoverComponents((function(el){_this.initializeComponent(el)})),document.addEventListener("turbolinks:load",(function(){_this.discoverUninitializedComponents((function(el){_this.initializeComponent(el)}))})),this.listenForNewUninitializedComponentsAtRunTime((function(el){_this.initializeComponent(el)}));case 6:case"end":return _context.stop()}}),_callee,this)})),_start=function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))},function(){return _start.apply(this,arguments)}),discoverComponents:function(callback){document.querySelectorAll("[x-data]").forEach((function(rootEl){callback(rootEl)}))},discoverUninitializedComponents:function(callback){var el=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,rootEls=(el||document).querySelectorAll("[x-data]");Array.from(rootEls).filter((function(el){return void 0===el.__x})).forEach((function(rootEl){callback(rootEl)}))},listenForNewUninitializedComponentsAtRunTime:function(callback){var _this2=this,targetNode=document.querySelector("body");new MutationObserver((function(mutations){for(var i=0;i<mutations.length;i++)mutations[i].addedNodes.length>0&&mutations[i].addedNodes.forEach((function(node){1===node.nodeType&&(node.parentElement&&node.parentElement.closest("[x-data]")||_this2.discoverUninitializedComponents((function(el){_this2.initializeComponent(el)}),node.parentElement))}))})).observe(targetNode,{childList:!0,attributes:!0,subtree:!0})},initializeComponent:function(el){el.__x||(el.__x=new Component(el))}};return isTesting()||(window.Alpine=Alpine,window.Alpine.start()),Alpine}));
//# sourceMappingURL=alpine.js.map
